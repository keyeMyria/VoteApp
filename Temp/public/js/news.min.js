var vm = new Vue({
    el:'html',
    data:{
        page:'news',
        loading:true,
        logs:0,
        list:[]
    },
    methods:{
        getLogs:function () {
          var that = this;
          $.get('/api/getLog',function (result) {
              that.loading = false;
              
              var res = JSON.parse(result);
              console.log(res);
              if(res.status > 0){
                  that.list = res.list;
              }
          });
        },
        getNums:function () {
            var that = this;
            $.get('/api/getNum',function (res) {
                var data = JSON.parse(res);
                console.log(data);
                if(data.status == 1){
                    that.logs = data.number;
                }

            });
        }
        
    },
    computed:{
        
    },
    
    ready:function(){
        var that = this;
        that.getLogs();
        that.getNums();
        setTimeout(function () {
            if(that.loading === true){
                layer.open({content:'网络延迟，请重新加载'});
            }
        },8000);
    }
    
});